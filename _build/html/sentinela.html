
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="pt-BR">
  <head>
        <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>SENTINELA &#8212; AJNA 0.1a documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Documentação do código-fonte" href="codigofonte.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="contents topic" id="topicos">
<p class="topic-title first">Tópicos</p>
<ul class="simple">
<li><a class="reference internal" href="#sentinela" id="id1">SENTINELA</a><ul>
<li><a class="reference internal" href="#funcoes" id="id2">Funções</a></li>
<li><a class="reference internal" href="#module-bhadrasana.sentinela.models.models" id="id3">Banco de Dados</a></li>
</ul>
</li>
</ul>
</div>
<p><a class="reference external" href="index.html">Voltar ao Indice</a></p>
<div class="section" id="sentinela">
<h1><a class="toc-backref" href="#id1">SENTINELA</a><a class="headerlink" href="#sentinela" title="Permalink to this headline">¶</a></h1>
<p>Sentinela é o módulo que gerencia as informações de diversos sistemas e as
confronta com parâmetros de análise de risco</p>
<div class="section" id="funcoes">
<h2><a class="toc-backref" href="#id2">Funções</a><a class="headerlink" href="#funcoes" title="Permalink to this headline">¶</a></h2>
<div class="section" id="module-bhadrasana.sentinela.utils.csv_handlers">
<span id="utilitatios-csv"></span><h3>Utilitátios CSV<a class="headerlink" href="#module-bhadrasana.sentinela.utils.csv_handlers" title="Permalink to this headline">¶</a></h3>
<p>Classes para reunir tarefas repetitivas com arquivos csv e planilhas</p>
<p>Padrão do arquivo csv usado é o mais simples possível:
Nomes de campo na primeira linha
Valores nas restantes
Único separador é sempre a vírgula
Fim de linha significa nova linha
Para comparações, retira espaços antes e depois do conteúdo das colunas</p>
<dl class="function">
<dt id="bhadrasana.sentinela.utils.csv_handlers.muda_titulos_csv">
<code class="descclassname">bhadrasana.sentinela.utils.csv_handlers.</code><code class="descname">muda_titulos_csv</code><span class="sig-paren">(</span><em>csv_file</em>, <em>de_para_dict</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bhadrasana/sentinela/utils/csv_handlers.html#muda_titulos_csv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bhadrasana.sentinela.utils.csv_handlers.muda_titulos_csv" title="Permalink to this definition">¶</a></dt>
<dd><p>Apenas abre o arquivo e repassa para muda_titulos_lista</p>
</dd></dl>

<dl class="function">
<dt id="bhadrasana.sentinela.utils.csv_handlers.muda_titulos_lista">
<code class="descclassname">bhadrasana.sentinela.utils.csv_handlers.</code><code class="descname">muda_titulos_lista</code><span class="sig-paren">(</span><em>lista</em>, <em>de_para_dict</em>, <em>make_copy=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bhadrasana/sentinela/utils/csv_handlers.html#muda_titulos_lista"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bhadrasana.sentinela.utils.csv_handlers.muda_titulos_lista" title="Permalink to this definition">¶</a></dt>
<dd><p>Recebe um dicionário na forma titulo_old:titulo_new
e muda a linha de titulo da lista.
Passar copy=False para listas grandes faz a modificação in-line
na lista original (muito mais rápido) modificando a lista original
e retornando ela mesma. O padrão é copiar a lista e deixar
intocada a lista original</p>
<blockquote>
<div><dl class="docutils">
<dt>Args:</dt>
<dd>plista: list de lists representando a planilha a ter
títulos modificados
de_para_dict: dicionário titulo_antigo: titulo_novo
copy: Se False, modifica original</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="bhadrasana.sentinela.utils.csv_handlers.sch_processing">
<code class="descclassname">bhadrasana.sentinela.utils.csv_handlers.</code><code class="descname">sch_processing</code><span class="sig-paren">(</span><em>path</em>, <em>mask_txt='0.txt'</em>, <em>dest_path='/tmp/tmpftqsg_4n'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bhadrasana/sentinela/utils/csv_handlers.html#sch_processing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bhadrasana.sentinela.utils.csv_handlers.sch_processing" title="Permalink to this definition">¶</a></dt>
<dd><p>Processa lotes de extração que gerem arquivos txt csv e arquivos sch
(txt contém os dados e sch descreve o schema), transformando-os em arquivos
csv estilo “planilha”, isto é, primeira linha de cabecalhos
path: diretório ou arquivo .zip onde estão os arquivos .sch
Obs: não há procura recursiva, apenas no raiz do diretório</p>
</dd></dl>

<dl class="function">
<dt id="bhadrasana.sentinela.utils.csv_handlers.sch_tocsv">
<code class="descclassname">bhadrasana.sentinela.utils.csv_handlers.</code><code class="descname">sch_tocsv</code><span class="sig-paren">(</span><em>sch</em>, <em>txt</em>, <em>dest_path='/tmp/tmpftqsg_4n'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bhadrasana/sentinela/utils/csv_handlers.html#sch_tocsv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bhadrasana.sentinela.utils.csv_handlers.sch_tocsv" title="Permalink to this definition">¶</a></dt>
<dd><p>Pega um arquivo txt, aplica os cabecalhos e a informação de um sch,
e o transforma em um csv padrão</p>
</dd></dl>

</div>
<div class="section" id="module-bhadrasana.sentinela.utils.gerente_risco">
<span id="gerente-de-risco"></span><h3>Gerente de Risco<a class="headerlink" href="#module-bhadrasana.sentinela.utils.gerente_risco" title="Permalink to this headline">¶</a></h3>
<p>Módulo responsável pelas funções que aplicam os filtros/parâmetros
de risco cadastrados nos dados. Utiliza pandas para realizar filtragem</p>
<dl class="class">
<dt id="bhadrasana.sentinela.utils.gerente_risco.GerenteRisco">
<em class="property">class </em><code class="descclassname">bhadrasana.sentinela.utils.gerente_risco.</code><code class="descname">GerenteRisco</code><a class="reference internal" href="_modules/bhadrasana/sentinela/utils/gerente_risco.html#GerenteRisco"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bhadrasana.sentinela.utils.gerente_risco.GerenteRisco" title="Permalink to this definition">¶</a></dt>
<dd><p>Classe que aplica parâmetros de risco e/ou junção em listas</p>
<p>São fornecidos também metodos para facilitar o de/para entre
o Banco de Dados e arquivos csv de parâmetros, para permitir que
Usuário importe e exporte parâmetros de risco.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><p class="first">pre_processers: dict de funções para pré-processar lista. Função
DEVE esperar uma lista como primeiro parâmetro</p>
<p>pre_processers_params: se houver, será passado para função com mesmo
‘key’ do pre_processer como kargs.</p>
<p>Ex:</p>
<p>gerente.pre_processers[‘mudatitulo’] = muda_titulos</p>
<p>gerente.pre_processers_params[‘mudatitulo’] = {‘de_para_dict’: {}}</p>
<p>Os atributos abaixo NÂO devem ser acessados diretamente. A classe
os gerencia internamente.</p>
<p>riscosativos: dict descreve “riscos” (compilado dos ParametrosRisco)</p>
<p class="last">padraorisco: PadraoRisco ativo</p>
</dd>
</dl>
<dl class="method">
<dt id="bhadrasana.sentinela.utils.gerente_risco.GerenteRisco.add_risco">
<code class="descname">add_risco</code><span class="sig-paren">(</span><em>parametrorisco</em>, <em>session=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bhadrasana/sentinela/utils/gerente_risco.html#GerenteRisco.add_risco"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bhadrasana.sentinela.utils.gerente_risco.GerenteRisco.add_risco" title="Permalink to this definition">¶</a></dt>
<dd><p>Configura os parametros de risco ativos</p>
</dd></dl>

<dl class="method">
<dt id="bhadrasana.sentinela.utils.gerente_risco.GerenteRisco.aplica_juncao">
<code class="descname">aplica_juncao</code><span class="sig-paren">(</span><em>visao</em>, <em>path='/tmp/tmpftqsg_4n'</em>, <em>filtrar=False</em>, <em>parametros_ativos=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bhadrasana/sentinela/utils/gerente_risco.html#GerenteRisco.aplica_juncao"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bhadrasana.sentinela.utils.gerente_risco.GerenteRisco.aplica_juncao" title="Permalink to this definition">¶</a></dt>
<dd><p>Lê, um a um, os csvs configurados em visao.tabelas. Carrega em
DataFrames e faz merge destes.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd>visao: objeto de Banco de Dados que espeficica as configurações
(metadados) da base
path: caminho da base de arquivos csv
filtrar: aplica_risco após merge dos DataFrames
parametros_ativos: subconjunto do parâmetros de risco a serem
aplicados</dd>
<dt>Returns:</dt>
<dd>lista contendo os campos filtrados. 1ª linha com nomes de campo</dd>
<dt>Obs: quando a base for constituída de arquivo único,</dt>
<dd>utilizar <a class="reference internal" href="#bhadrasana.sentinela.utils.gerente_risco.GerenteRisco.aplica_risco" title="bhadrasana.sentinela.utils.gerente_risco.GerenteRisco.aplica_risco"><code class="xref py py-func docutils literal notranslate"><span class="pre">aplica_risco()</span></code></a></dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="bhadrasana.sentinela.utils.gerente_risco.GerenteRisco.aplica_risco">
<code class="descname">aplica_risco</code><span class="sig-paren">(</span><em>lista=None</em>, <em>arquivo=None</em>, <em>parametros_ativos=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bhadrasana/sentinela/utils/gerente_risco.html#GerenteRisco.aplica_risco"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bhadrasana.sentinela.utils.gerente_risco.GerenteRisco.aplica_risco" title="Permalink to this definition">¶</a></dt>
<dd><p>Compara a linha de título da lista recebida com a lista de nomes
de campo que possuem parâmetros de risco ativos. Após, chama para cada
campo encontrado a função de filtragem. Somente um dos parâmetros
precisa ser passado. Caso na lista do pipeline estejam cadastradas
funções de pré-processamento, serão aplicadas.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd>lista (list): Lista a ser filtrada, primeira linha deve conter os
nomes dos campos idênticos aos definidos no nome_campo
do parâmetro de risco cadastrado.
OU
arquivo (str): Arquivo csv de onde carregar a lista a ser filtrada
parametros_ativos: subconjunto do parâmetros de risco a serem
aplicados</dd>
<dt>Returns:</dt>
<dd>lista contendo os campos filtrados. 1ª linha com nomes de campo</dd>
<dt>Obs: para um arquivo, quando a base for constituída de vários arquivos,</dt>
<dd>utilizar <a class="reference internal" href="#bhadrasana.sentinela.utils.gerente_risco.GerenteRisco.aplica_juncao" title="bhadrasana.sentinela.utils.gerente_risco.GerenteRisco.aplica_juncao"><code class="xref py py-func docutils literal notranslate"><span class="pre">aplica_juncao()</span></code></a></dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="bhadrasana.sentinela.utils.gerente_risco.GerenteRisco.ativa_sanitizacao">
<code class="descname">ativa_sanitizacao</code><span class="sig-paren">(</span><em>norm_function=&lt;function unicode_sanitizar&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bhadrasana/sentinela/utils/gerente_risco.html#GerenteRisco.ativa_sanitizacao"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bhadrasana.sentinela.utils.gerente_risco.GerenteRisco.ativa_sanitizacao" title="Permalink to this definition">¶</a></dt>
<dd><p>Inclui função de sanitização nos pre_processers
Os pre_processers são usados ao recuperar headers, importar,
aplicar_risco, entre outras ações</p>
</dd></dl>

<dl class="method">
<dt id="bhadrasana.sentinela.utils.gerente_risco.GerenteRisco.checa_depara">
<code class="descname">checa_depara</code><span class="sig-paren">(</span><em>base</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bhadrasana/sentinela/utils/gerente_risco.html#GerenteRisco.checa_depara"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bhadrasana.sentinela.utils.gerente_risco.GerenteRisco.checa_depara" title="Permalink to this definition">¶</a></dt>
<dd><p>Se tiver depara na base, adiciona aos pre_processers
Os pre_processers são usados ao recuperar headers, importar,
aplicar_risco, entre outras ações</p>
</dd></dl>

<dl class="method">
<dt id="bhadrasana.sentinela.utils.gerente_risco.GerenteRisco.clear_risco">
<code class="descname">clear_risco</code><span class="sig-paren">(</span><em>session=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bhadrasana/sentinela/utils/gerente_risco.html#GerenteRisco.clear_risco"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bhadrasana.sentinela.utils.gerente_risco.GerenteRisco.clear_risco" title="Permalink to this definition">¶</a></dt>
<dd><p>Zera os parametros de risco ativos</p>
</dd></dl>

<dl class="classmethod">
<dt id="bhadrasana.sentinela.utils.gerente_risco.GerenteRisco.csv_to_mongo">
<em class="property">classmethod </em><code class="descname">csv_to_mongo</code><span class="sig-paren">(</span><em>db</em>, <em>base</em>, <em>path=None</em>, <em>arquivo=None</em>, <em>unique=[]</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bhadrasana/sentinela/utils/gerente_risco.html#GerenteRisco.csv_to_mongo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bhadrasana.sentinela.utils.gerente_risco.GerenteRisco.csv_to_mongo" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads a csv file and inserts all contents into a MongoDB collection
Creates collection if it not exists
Args:</p>
<blockquote>
<div>db: MongoDBClient connection with database setted
base: Base Origem
path: caminho do(s) arquivo(s) csv OU
arquivo: caminho e nome do arquivo csv
unique: lista de campos que terão indice único (e
não serão reinseridos) - TODO: unique field on mongo archive</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="bhadrasana.sentinela.utils.gerente_risco.GerenteRisco.get_headers_base">
<code class="descname">get_headers_base</code><span class="sig-paren">(</span><em>baseorigemid</em>, <em>path</em>, <em>csvs=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bhadrasana/sentinela/utils/gerente_risco.html#GerenteRisco.get_headers_base"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bhadrasana.sentinela.utils.gerente_risco.GerenteRisco.get_headers_base" title="Permalink to this definition">¶</a></dt>
<dd><p>Busca última base disponível no diretório de CSVs e
traz todos os headers</p>
</dd></dl>

<dl class="method">
<dt id="bhadrasana.sentinela.utils.gerente_risco.GerenteRisco.import_named_csv">
<code class="descname">import_named_csv</code><span class="sig-paren">(</span><em>arquivo</em>, <em>session=None</em>, <em>padraorisco=None</em>, <em>filtro=&lt;Filtro.igual: 1&gt;</em>, <em>tolist=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bhadrasana/sentinela/utils/gerente_risco.html#GerenteRisco.import_named_csv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bhadrasana.sentinela.utils.gerente_risco.GerenteRisco.import_named_csv" title="Permalink to this definition">¶</a></dt>
<dd><p>Abre um arquivo csv, cada coluna sendo um filtro.
A primeira linha contém o campo a ser filtrado e as linhas
seguintes os valores do filtro. Cria filtros na memória, e no
Banco de Dados caso session seja informada.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd>arquivo: Nome e caminho do arquivo .csv
session: sessão ativa com BD
filtro: Tipo de filtro a ser assumido como padrão</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="bhadrasana.sentinela.utils.gerente_risco.GerenteRisco.importa_base">
<code class="descname">importa_base</code><span class="sig-paren">(</span><em>csv_folder</em>, <em>baseid</em>, <em>data</em>, <em>filename</em>, <em>remove=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bhadrasana/sentinela/utils/gerente_risco.html#GerenteRisco.importa_base"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bhadrasana.sentinela.utils.gerente_risco.GerenteRisco.importa_base" title="Permalink to this definition">¶</a></dt>
<dd><p>Copia base para dest_path, processando se necessário
Aceita arquivos .zip contendo arquivos sch
e arquivos csv únicos
No caso de CSV, retorna erro caso títulos não batam com importação
anterior para a mesma “BASE” (dest_path) para evitar erros do usuário</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><p class="first">csv_folder: destino do(s) arquivo(s) gerados
base_id: id da base, será usada para identificar uma subpasta
data: data do período inicial da base/extração. Será usada
para gerar subpasta no formato YYYY/MM/DD
filename: caminho completo do arquivo da base de origem</p>
<blockquote>
<div>(fonte externa/extração)</div></blockquote>
<p class="last">remove: excluir o arquivo temporário após processamento</p>
</dd>
<dt>Returns</dt>
<dd>a tuple or a list of tuples. First items are created csvs</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="bhadrasana.sentinela.utils.gerente_risco.GerenteRisco.load_mongo">
<code class="descname">load_mongo</code><span class="sig-paren">(</span><em>db</em>, <em>base=None</em>, <em>collection_name=None</em>, <em>parametros_ativos=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bhadrasana/sentinela/utils/gerente_risco.html#GerenteRisco.load_mongo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bhadrasana.sentinela.utils.gerente_risco.GerenteRisco.load_mongo" title="Permalink to this definition">¶</a></dt>
<dd><p>Recupera da base mongodb em um lista
Args:</p>
<blockquote>
<div>db: MongoDBClient connection with database setted
base: Base Origem OU
collection_name: nome da coleção do MongoDB
parametros_ativos: subconjunto do parâmetros de risco a serem
aplicados</div></blockquote>
<dl class="docutils">
<dt>Returns:</dt>
<dd>lista contendo os campos filtrados. 1ª linha com nomes de campo</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="bhadrasana.sentinela.utils.gerente_risco.GerenteRisco.parametro_tocsv">
<code class="descname">parametro_tocsv</code><span class="sig-paren">(</span><em>campo</em>, <em>path='/tmp/tmpftqsg_4n'</em>, <em>dbsession=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bhadrasana/sentinela/utils/gerente_risco.html#GerenteRisco.parametro_tocsv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bhadrasana.sentinela.utils.gerente_risco.GerenteRisco.parametro_tocsv" title="Permalink to this definition">¶</a></dt>
<dd><p>Salva os valores do parâmetro de risco em um arquivo csv
no formato ‘valor’, ‘tipo_filtro’</p>
</dd></dl>

<dl class="method">
<dt id="bhadrasana.sentinela.utils.gerente_risco.GerenteRisco.parametros_fromcsv">
<code class="descname">parametros_fromcsv</code><span class="sig-paren">(</span><em>campo</em>, <em>session=None</em>, <em>padraorisco=None</em>, <em>lista=None</em>, <em>path='/tmp/tmpftqsg_4n'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bhadrasana/sentinela/utils/gerente_risco.html#GerenteRisco.parametros_fromcsv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bhadrasana.sentinela.utils.gerente_risco.GerenteRisco.parametros_fromcsv" title="Permalink to this definition">¶</a></dt>
<dd><p>Abre um arquivo csv, recupera parâmetros configurados nele,
adiciona à configuração do gerente e <strong>também adiciona ao Banco de
Dados ativo</strong> caso não existam nele ainda. Para isso é preciso
passar a session como parâmetro, senão cria apenas na memória
Pode receber uma lista no lugar de um arquivo csv (como implementado
em import_named_csv)</p>
<p>Ver também:</p>
<p><a class="reference internal" href="#bhadrasana.sentinela.utils.gerente_risco.GerenteRisco.parametros_tocsv" title="bhadrasana.sentinela.utils.gerente_risco.GerenteRisco.parametros_tocsv"><code class="xref py py-func docutils literal notranslate"><span class="pre">parametros_tocsv()</span></code></a>
<a class="reference internal" href="#bhadrasana.sentinela.utils.gerente_risco.GerenteRisco.import_named_csv" title="bhadrasana.sentinela.utils.gerente_risco.GerenteRisco.import_named_csv"><code class="xref py py-func docutils literal notranslate"><span class="pre">import_named_csv()</span></code></a></p>
<dl class="docutils">
<dt>Args:</dt>
<dd>campo: nome do campo a ser filtrado e deve ser também
o nome do arquivo .csv
session: a sessão com o banco de dados
lista: passar uma lista pré-prenchida para usar a função com outros
tipos de fontes/arquivos. Se passada uma lista, função não
abrirá arquivo .csv, usará os valores da função
path: caminho do arquivo .csv</dd>
</dl>
<p>O arquivo .csv ou a lista DEVEM estar no formato valor, tipo_filtro</p>
</dd></dl>

<dl class="method">
<dt id="bhadrasana.sentinela.utils.gerente_risco.GerenteRisco.parametros_tocsv">
<code class="descname">parametros_tocsv</code><span class="sig-paren">(</span><em>path='/tmp/tmpftqsg_4n'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bhadrasana/sentinela/utils/gerente_risco.html#GerenteRisco.parametros_tocsv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bhadrasana.sentinela.utils.gerente_risco.GerenteRisco.parametros_tocsv" title="Permalink to this definition">¶</a></dt>
<dd><p>Salva os parâmetros adicionados a um gerente em um arquivo csv
Ver também: <a class="reference internal" href="#bhadrasana.sentinela.utils.gerente_risco.GerenteRisco.parametros_fromcsv" title="bhadrasana.sentinela.utils.gerente_risco.GerenteRisco.parametros_fromcsv"><code class="xref py py-func docutils literal notranslate"><span class="pre">parametros_fromcsv()</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="bhadrasana.sentinela.utils.gerente_risco.GerenteRisco.remove_risco">
<code class="descname">remove_risco</code><span class="sig-paren">(</span><em>parametrorisco</em>, <em>session=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bhadrasana/sentinela/utils/gerente_risco.html#GerenteRisco.remove_risco"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bhadrasana.sentinela.utils.gerente_risco.GerenteRisco.remove_risco" title="Permalink to this definition">¶</a></dt>
<dd><p>Configura os parametros de risco ativos</p>
</dd></dl>

<dl class="method">
<dt id="bhadrasana.sentinela.utils.gerente_risco.GerenteRisco.set_padraorisco">
<code class="descname">set_padraorisco</code><span class="sig-paren">(</span><em>padraorisco</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bhadrasana/sentinela/utils/gerente_risco.html#GerenteRisco.set_padraorisco"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bhadrasana.sentinela.utils.gerente_risco.GerenteRisco.set_padraorisco" title="Permalink to this definition">¶</a></dt>
<dd><p>Vincula o Gerente a um objeto padraoriscoOriginal
Atenção: <strong>Todos</strong> os parâmetros de risco ativos no Gerente serão
zerados!!!
<strong>Todos</strong> os parâmetros de risco vinculados à padraoriscoOriginal serão
adicionados aos riscos ativos!!!</p>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="bhadrasana.sentinela.utils.gerente_risco.SemHeaders">
<em class="property">exception </em><code class="descclassname">bhadrasana.sentinela.utils.gerente_risco.</code><code class="descname">SemHeaders</code><a class="reference internal" href="_modules/bhadrasana/sentinela/utils/gerente_risco.html#SemHeaders"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bhadrasana.sentinela.utils.gerente_risco.SemHeaders" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>. topic:: Banco de Dados</p>
</div>
</div>
<div class="section" id="module-bhadrasana.sentinela.models.models">
<span id="banco-de-dados"></span><h2><a class="toc-backref" href="#id3">Banco de Dados</a><a class="headerlink" href="#module-bhadrasana.sentinela.models.models" title="Permalink to this headline">¶</a></h2>
<p>Modelo de dados necessário para app Sentinela</p>
<dl class="class">
<dt id="bhadrasana.sentinela.models.models.BaseOrigem">
<em class="property">class </em><code class="descclassname">bhadrasana.sentinela.models.models.</code><code class="descname">BaseOrigem</code><span class="sig-paren">(</span><em>nome</em>, <em>caminho=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bhadrasana/sentinela/models/models.html#BaseOrigem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bhadrasana.sentinela.models.models.BaseOrigem" title="Permalink to this definition">¶</a></dt>
<dd><p>Metadado sobre as bases de dados disponíveis/integradas.
Caminho: caminho no disco onde os dados da importação da base
(normalmente arquivos csv) estão guardados</p>
</dd></dl>

<dl class="class">
<dt id="bhadrasana.sentinela.models.models.Coluna">
<em class="property">class </em><code class="descclassname">bhadrasana.sentinela.models.models.</code><code class="descname">Coluna</code><span class="sig-paren">(</span><em>csv</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bhadrasana/sentinela/models/models.html#Coluna"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bhadrasana.sentinela.models.models.Coluna" title="Permalink to this definition">¶</a></dt>
<dd><p>Metadado sobre os csvs capturados. Define os campos que
serão exibidos na junção.
Utilizado por “GerenteRisco.aplica_juncao()”
Ver <code class="xref py py-func docutils literal notranslate"><span class="pre">gerente_risco.aplica_juncao()</span></code></p>
</dd></dl>

<dl class="class">
<dt id="bhadrasana.sentinela.models.models.DePara">
<em class="property">class </em><code class="descclassname">bhadrasana.sentinela.models.models.</code><code class="descname">DePara</code><span class="sig-paren">(</span><em>titulo_ant</em>, <em>titulo_novo</em>, <em>base</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bhadrasana/sentinela/models/models.html#DePara"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bhadrasana.sentinela.models.models.DePara" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="bhadrasana.sentinela.models.models.Filtro">
<em class="property">class </em><code class="descclassname">bhadrasana.sentinela.models.models.</code><code class="descname">Filtro</code><a class="reference internal" href="_modules/bhadrasana/sentinela/models/models.html#Filtro"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bhadrasana.sentinela.models.models.Filtro" title="Permalink to this definition">¶</a></dt>
<dd><p>Enumerado para escolha do tipo de filtro a ser
aplicado no parâmetro de risco</p>
</dd></dl>

<dl class="class">
<dt id="bhadrasana.sentinela.models.models.MySession">
<em class="property">class </em><code class="descclassname">bhadrasana.sentinela.models.models.</code><code class="descname">MySession</code><span class="sig-paren">(</span><em>base</em>, <em>test=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bhadrasana/sentinela/models/models.html#MySession"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bhadrasana.sentinela.models.models.MySession" title="Permalink to this definition">¶</a></dt>
<dd><p>Para definir a sessão com o BD na aplicação. Para os
testes, passando o parâmetro test=True, um BD na memória</p>
</dd></dl>

<dl class="class">
<dt id="bhadrasana.sentinela.models.models.PadraoRisco">
<em class="property">class </em><code class="descclassname">bhadrasana.sentinela.models.models.</code><code class="descname">PadraoRisco</code><span class="sig-paren">(</span><em>nome</em>, <em>base=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bhadrasana/sentinela/models/models.html#PadraoRisco"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bhadrasana.sentinela.models.models.PadraoRisco" title="Permalink to this definition">¶</a></dt>
<dd><p>Metadado sobre as bases de dados disponíveis/integradas.
Caminho: caminho no disco onde os dados da importação da base
(normalmente arquivos csv) estão guardados</p>
</dd></dl>

<dl class="class">
<dt id="bhadrasana.sentinela.models.models.ParametroRisco">
<em class="property">class </em><code class="descclassname">bhadrasana.sentinela.models.models.</code><code class="descname">ParametroRisco</code><span class="sig-paren">(</span><em>nome</em>, <em>descricao=''</em>, <em>padraorisco=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bhadrasana/sentinela/models/models.html#ParametroRisco"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bhadrasana.sentinela.models.models.ParametroRisco" title="Permalink to this definition">¶</a></dt>
<dd><p>Nomeia um parâmetro de risco que pode ser aplicado
como filtro em um Banco de Dados. Um parâmetro tem uma
lista de valores que serão o filtro efetivo</p>
</dd></dl>

<dl class="class">
<dt id="bhadrasana.sentinela.models.models.SQLDBUser">
<em class="property">class </em><code class="descclassname">bhadrasana.sentinela.models.models.</code><code class="descname">SQLDBUser</code><span class="sig-paren">(</span><em>username</em>, <em>password</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bhadrasana/sentinela/models/models.html#SQLDBUser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bhadrasana.sentinela.models.models.SQLDBUser" title="Permalink to this definition">¶</a></dt>
<dd><p>Base de Usuários</p>
<dl class="classmethod">
<dt id="bhadrasana.sentinela.models.models.SQLDBUser.encript">
<em class="property">classmethod </em><code class="descname">encript</code><span class="sig-paren">(</span><em>password</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bhadrasana/sentinela/models/models.html#SQLDBUser.encript"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bhadrasana.sentinela.models.models.SQLDBUser.encript" title="Permalink to this definition">¶</a></dt>
<dd><p>Receives plan text password, returns encripted version</p>
</dd></dl>

<dl class="classmethod">
<dt id="bhadrasana.sentinela.models.models.SQLDBUser.get">
<em class="property">classmethod </em><code class="descname">get</code><span class="sig-paren">(</span><em>session</em>, <em>username</em>, <em>password=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bhadrasana/sentinela/models/models.html#SQLDBUser.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bhadrasana.sentinela.models.models.SQLDBUser.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if user exists, and if passed, if password
is correct
returns SQLDBUser or None</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="bhadrasana.sentinela.models.models.Tabela">
<em class="property">class </em><code class="descclassname">bhadrasana.sentinela.models.models.</code><code class="descname">Tabela</code><span class="sig-paren">(</span><em>csv</em>, <em>primario</em>, <em>estrangeiro</em>, <em>pai_id</em>, <em>visao_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bhadrasana/sentinela/models/models.html#Tabela"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bhadrasana.sentinela.models.models.Tabela" title="Permalink to this definition">¶</a></dt>
<dd><p>Metadado sobre os csvs capturados. Para mapear relações entre os
csvs capturados e permitir junção automática se necessário.
Utilizado por “GerenteRisco.aplica_juncao()”
Ver <code class="xref py py-func docutils literal notranslate"><span class="pre">gerente_risco.aplica_juncao()</span></code></p>
</dd></dl>

<dl class="class">
<dt id="bhadrasana.sentinela.models.models.ValorParametro">
<em class="property">class </em><code class="descclassname">bhadrasana.sentinela.models.models.</code><code class="descname">ValorParametro</code><span class="sig-paren">(</span><em>nome</em>, <em>tipo</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bhadrasana/sentinela/models/models.html#ValorParametro"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bhadrasana.sentinela.models.models.ValorParametro" title="Permalink to this definition">¶</a></dt>
<dd><p>Um valor de parametro a ser aplicado como filtro em uma
fonte de dados
nomecampo = nome do campo da fonte de dados a ser aplicado filtro
tipofiltro = tipo de função de filtragem a ser realizada
(ver enum TipoFiltro)</p>
</dd></dl>

<dl class="class">
<dt id="bhadrasana.sentinela.models.models.Visao">
<em class="property">class </em><code class="descclassname">bhadrasana.sentinela.models.models.</code><code class="descname">Visao</code><span class="sig-paren">(</span><em>csv</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bhadrasana/sentinela/models/models.html#Visao"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bhadrasana.sentinela.models.models.Visao" title="Permalink to this definition">¶</a></dt>
<dd><p>Metadado sobre os csvs capturados. Para mapear relações entre os
csvs capturados e permitir junção automática se necessário.
Utilizado por “GerenteRisco.aplica_juncao()”
Ver <code class="xref py py-func docutils literal notranslate"><span class="pre">gerente_risco.aplica_juncao()</span></code></p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="codigofonte.html">Documentação do código-fonte</a><ul>
      <li>Previous: <a href="codigofonte.html" title="previous chapter">Documentação do código-fonte</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017, RFB.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="_sources/sentinela.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>